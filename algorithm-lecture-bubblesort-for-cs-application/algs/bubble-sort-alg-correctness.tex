% bubble sort alg with correctness comment

\begin{algorithm}[H]
  \begin{algorithmic}[1]
	\Procedure{BubbleSort}{$A: a_1\; a_2\; \cdots\; a_n$}
	  \Repeat
		\State swapped $\gets$ false
		\For{$i \gets 1 : n - 1$}	\Comment{\textcolor{red}{\bf Loop invariant?}}
		  \If{$a_{i} > a_{i+1}$}	\Comment{CAS}
			\State \Call{Swap}{$a_{i}, a_{i+1}$}
			\State swapped $\gets$ true
		  \EndIf
		\EndFor
		\Until{swapped = false}		% \Comment{No swaps}
    \EndProcedure
  \end{algorithmic}
\end{algorithm}
